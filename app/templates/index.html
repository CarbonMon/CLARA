{% extends 'base.html' %}

{% block title %}CLARA - Overview{% endblock %}

{% block content %}
<div class="docs-markdown-page docs-markdown-content">
    <div class="flex w-full items-start">
        <div class="docs-markdown-page-inner">
            <div>
                <div class="title-container flex flex-col items-baseline justify-between lg:flex-row">
                    <div class="order-2 lg:order-1">
                        <h1 id="page-top" class="docs-markdown-page-title">Clinical Research Analysis Tool</h1>
                        <div class="docs-markdown-page-subtitle">AI-powered analysis of clinical research papers and data</div>
                    </div>
                </div>

                <p>This tool helps researchers and healthcare professionals analyze clinical trial data from multiple sources using advanced AI models. Our platform leverages the power of OpenAI and Anthropic models to extract and summarize key information from clinical research papers and documents.</p>

                <h2>Key Features</h2>
                <ul>
                    <li><strong>PubMed Search:</strong> Search and analyze clinical trials from PubMed database</li>
                    <li><strong>PDF Upload:</strong> Upload and analyze clinical trial PDFs with AI extraction</li>
                    <li><strong>AI Analysis:</strong> Advanced AI extraction of study parameters and key findings</li>
                    <li><strong>Data Export:</strong> Export results to Excel for further analysis</li>
                </ul>

                {% if session.get('analysis_results') %}
                <div class="card">
                    <div class="card-header" style="background-color: var(--color-bg-secondary); border-color: var(--color-border);">
                        <h3>Current Analysis Results</h3>
                    </div>
                    <div class="card-body">
                        <p>You have <strong>{{ session.get('analysis_results')|length }}</strong> analyzed items from your last analysis.</p>
                        <p>Analysis type: {{ session.get('analysis_type')|capitalize }}</p>
                        <a href="{{ url_for('main.view_results') }}" class="btn btn-solid">
                            View Current Results
                        </a>
                    </div>
                </div>
                {% endif %}

                <h2>Get Started</h2>
                <p>Choose one of the options below to begin analyzing clinical research:</p>

                <div class="grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; margin: 24px 0;">
                    <a href="{{ url_for('main.pubmed_search') }}" class="card" style="text-decoration: none; color: var(--color-text-primary); transition: transform 0.2s, box-shadow 0.2s;">
                        <div class="card-body" style="text-align: center;">
                            <h3 style="color: var(--color-link); margin-bottom: 8px;">üîç PubMed Search</h3>
                            <p style="color: var(--color-text-primary);">Search and analyze clinical trials from the PubMed database using AI-powered extraction.</p>
                        </div>
                    </a>

                    <a href="{{ url_for('main.pdf_upload') }}" class="card" style="text-decoration: none; color: var(--color-text-primary); transition: transform 0.2s, box-shadow 0.2s;">
                        <div class="card-body" style="text-align: center;">
                            <h3 style="color: var(--color-link); margin-bottom: 8px;">üìÑ PDF Upload</h3>
                            <p style="color: var(--color-text-primary);">Upload clinical trial PDFs for comprehensive AI analysis and parameter extraction.</p>
                        </div>
                    </a>
                </div>

                {% if not session.get('api_key_valid') %}
                <div class="alert alert-warning">
                    <div>
                        <h4>API Setup Required</h4>
                        <p>You need to configure your API settings before you can use the analysis features.</p>
                        <a href="{{ url_for('main.settings') }}" class="btn btn-solid" style="margin-top: 8px; display: inline-block;">
                            Configure API Settings
                        </a>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
